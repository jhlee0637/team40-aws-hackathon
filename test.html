<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>AWS Cert Quest</title>
    <style>
        body { 
            margin: 0; 
            padding: 20px; 
            background: #1a1a2e; 
            color: white; 
            font-family: monospace; 
            text-align: center;
        }
        canvas { 
            border: 2px solid #00ffff; 
            background: #000;
            image-rendering: pixelated;
        }
    </style>
</head>
<body>
    <h1>🎮 AWS Cert Quest</h1>
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    <p>화살표 키로 이동, 스페이스로 상호작용</p>
    
    <div id="quiz" style="display: none; margin-top: 20px; padding: 20px; background: #333; border-radius: 5px;">
        <h3 id="quizQuestion"></h3>
        <div id="quizOptions"></div>
    </div>

    <script>
        // 퀴즈 데이터
        const QUIZ_DATABASE = {
            cp: [{
                question: "AWS의 핵심 가치 제안은 무엇인가요?",
                options: ["비용 절감만", "확장성만", "보안만", "비용 절감, 확장성, 보안 모두"],
                correct: 3,
                explanation: "AWS는 비용 절감, 확장성, 보안을 모두 제공합니다."
            }]
        };
        
        function getRandomQuiz(certType) {
            const quizzes = QUIZ_DATABASE[certType];
            return quizzes ? quizzes[0] : null;
        }

        class Game {
            constructor() {
                this.canvas = document.getElementById('gameCanvas');
                this.ctx = this.canvas.getContext('2d');
                this.ctx.imageSmoothingEnabled = false;
                
                this.player = { x: 400, y: 300, size: 32 };
                this.keys = {};
                this.gameState = 'playing';
                
                this.setupEvents();
                this.gameLoop();
            }
            
            setupEvents() {
                document.addEventListener('keydown', (e) => {
                    this.keys[e.key] = true;
                    e.preventDefault();
                });
                
                document.addEventListener('keyup', (e) => {
                    this.keys[e.key] = false;
                });
            }
            
            update() {
                if (this.gameState === 'playing') {
                    if (this.keys['ArrowUp']) this.player.y -= 2;
                    if (this.keys['ArrowDown']) this.player.y += 2;
                    if (this.keys['ArrowLeft']) this.player.x -= 2;
                    if (this.keys['ArrowRight']) this.player.x += 2;
                    
                    if (this.keys[' ']) {
                        this.startQuiz();
                    }
                }
            }
            
            startQuiz() {
                const quiz = getRandomQuiz('cp');
                if (!quiz) return;
                
                this.gameState = 'quiz';
                document.getElementById('quizQuestion').textContent = quiz.question;
                
                const optionsDiv = document.getElementById('quizOptions');
                optionsDiv.innerHTML = '';
                
                quiz.options.forEach((option, i) => {
                    const btn = document.createElement('button');
                    btn.textContent = `${i+1}. ${option}`;
                    btn.style.cssText = 'margin: 5px; padding: 10px; background: #00ffff; color: #000; border: none; border-radius: 5px; cursor: pointer;';
                    btn.onclick = () => {
                        alert(i === quiz.correct ? '정답!' : '틀렸습니다!');
                        document.getElementById('quiz').style.display = 'none';
                        this.gameState = 'playing';
                    };
                    optionsDiv.appendChild(btn);
                });
                
                document.getElementById('quiz').style.display = 'block';
            }
            
            render() {
                this.ctx.fillStyle = '#2E7D32';
                this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
                
                // 플레이어
                this.ctx.fillStyle = '#1976D2';
                this.ctx.fillRect(this.player.x, this.player.y, this.player.size, this.player.size);
                
                // UI
                this.ctx.fillStyle = '#FFFFFF';
                this.ctx.font = '16px monospace';
                this.ctx.fillText('스페이스바를 눌러 퀴즈 시작!', 10, 30);
            }
            
            gameLoop() {
                this.update();
                this.render();
                requestAnimationFrame(() => this.gameLoop());
            }
        }
        
        window.addEventListener('load', () => {
            new Game();
        });
    </script>
</body>
</html>